<ion-header>
  <ion-navbar color="purple">
    <ion-title>
      Регистрация
    </ion-title>
  </ion-navbar>
</ion-header>


<ion-content>
  
<form [formGroup]="userData" (ngSubmit)="add()">
  <ion-item>
    <ion-label stacked>Email</ion-label>
    <ion-input type="text" formControlName="email" [class.invalid]="!userData.controls.email.valid  && (userData.controls.email.dirty || submitAttempt)"></ion-input>
  </ion-item>
  <ion-item *ngIf="!userData.controls.email.valid  && (userData.controls.email.dirty || submitAttempt)">
    <div class="invalid-message">Въведете валиден email</div>
  </ion-item>
  <ion-item *ngIf="existingEmail  && submitAttempt">
    <div class="invalid-message">Този email е регистриран</div>
  </ion-item>
  
  <ion-item>
    <ion-label stacked>Парола</ion-label>
    <ion-input type="password" formControlName="password" [class.invalid]="!userData.controls.password.valid  && (userData.controls.password.dirty || submitAttempt)"></ion-input>
  </ion-item>
  <ion-item *ngIf="!userData.controls.password.valid  && (userData.controls.password.dirty || submitAttempt)">
    <div class="invalid-message">Въведете парола</div>
  </ion-item>

  <ion-item>
    <ion-label stacked>Повторете парола</ion-label>
    <ion-input type="password" formControlName="passwordConfirm" [class.invalid]="!userData.controls.passwordConfirm.valid  && (userData.controls.passwordConfirm.dirty || submitAttempt)"></ion-input>
  </ion-item>
  <ion-item *ngIf="!userData.controls.passwordConfirm.valid  && (userData.controls.passwordConfirm.dirty || submitAttempt)">
    <div class="invalid-message">Паролите не съвпадат</div>
  </ion-item>

  <div padding>
    <button ion-button color="purple" block type="submit">Регистрация</button>
  </div>

</form>
</ion-content>

